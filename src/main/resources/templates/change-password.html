<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="~{/fragments/head}"></th:block>
    <title>Change password</title>
    <style>

    </style>
</head>

<body class="img-background">
<header class="sticky-top">
    <th:block th:insert="~{/fragments/navbar}"></th:block>
</header>

<main>
    <div class="container form-color container-size my-margin-top" th:object="${userChangePasswordDto}">
        <div class="container-fluid header-size test text-center">
            <h2 class="label-color-text mt-5 pt-4" th:text="|Change password|">Change password</h2>
            <hr class="text-white">
        </div>
        <form
                th:method="patch"
                th:action="@{/users/change-password}"
                class="justify-content-center">


            <p th:if="${lastPassMatch}"
               class="error-color-exists rounded-3 text-md-center mx-auto col-md-8 mt-2">
                <small>Password must not match to last one.</small>
            </p>
            <p th:if="${passNotMatch}"
               class="error-color-exists rounded-3 text-md-center mx-auto col-md-8 mt-2">
                <small>Invalid passwords.</small>
            </p>

            <div class="row">
                <div class="col-md-12 mb-1">
                    <label for="email" class="label-color-text font-weight-bold">Email</label>
                    <input
                            id="email"
                            type="email"
                            name="email"
                            th:field="*{email}"
                            th:errorclass="is-invalid"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="****************"/>
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Email must be valid!</small>
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 mb-1">
                    <label for="oldPassword" class="label-color-text font-weight-bold">Old Password</label>
                    <input
                            id="oldPassword"
                            type="password"
                            name="oldPassword"
                            th:field="*{oldPassword}"
                            th:errorclass="is-invalid"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="****************"/>
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Password should be at least 2 characters.</small>
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 mb-1">
                    <label for="newPassword" class="label-color-text font-weight-bold">New Password</label>
                    <input
                            id="newPassword"
                            type="password"
                            name="newPassword"
                            th:field="*{newPassword}"
                            th:errorclass="is-invalid"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="****************"/>
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Password should be at least 2 characters.</small>
                    </p>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12 mb-1">
                    <label for="confirmNewPassword" class="label-color-text font-weight-bold">Confirm new
                        password</label>
                    <input
                            id="confirmNewPassword"
                            type="password"
                            name="confirmNewPassword"
                            th:field="*{confirmNewPassword}"
                            th:errorclass="is-invalid"
                            class="form-control-plaintext rounded px-2 input-color" placeholder="****************"/>

                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Password should be at least 2 characters.</small>
                    </p>
                </div>
            </div>
            <div class="label-color-text text-center mb-4 mt-2">
                <div class="text-center">
                    <div class="button">
                        <input type="submit" class="btn btn-my-color btn-lg" value="Change password"/>
                    </div>
                </div>
            </div>
        </form>
    </div>
</main>

<footer class="footer bg-transparent mt-5">
    <th:block th:insert="~{/fragments/footer}"></th:block>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">
</script>
</body>

</html>