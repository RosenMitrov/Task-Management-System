<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <th:block th:insert="~{/fragments/head}"></th:block>
    <title>Register</title>
</head>

<body class="img-background">
<header class="sticky-top">
    <th:block th:insert="~{/fragments/navbar}"></th:block>
</header>
<main>

    <div class="container form-color w-50 my-margin-top">
        <h2 class="text-center label-color-text mt-5 pt-4">Register User</h2>
        <form
                th:method="POST"
                th:action="@{/users/register}"
                th:object="${userRegisterDto}"
                class="mx-auto col-md-11 d-flex flex-column justify-content-center">

            <p th:if="${userAlreadyExists}"
               class="error-color-exists rounded-3 text-md-center mx-auto col-md-8 mt-2">
                <small>Email or username already exists.</small>
            </p>
            <p th:if="${passNotMatch}"
               class="error-color-exists rounded-3 text-md-center mx-auto col-md-8 mt-2">
                <small>Passwords should match</small>
            </p>

            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="firstName" class="label-color-text font-weight-bold">First Name</label>
                    <input
                            id="firstName"
                            type="text"
                            name="firstName"
                            class="form-control-plaintext rounded px-2 input-color" placeholder="Rosen"
                            th:field="*{firstName}"
                            th:errorclass="is-invalid"
                    />
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>First name is required.</small>
                    </p>
                </div>
                <div class="col-md-6 mb-3">
                    <label for="lastName" class="label-color-text font-weight-bold">Last Name</label>
                    <input
                            id="lastName"
                            type="text"
                            name="lastName"
                            min="2" max="20"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="Mitrov"
                            th:field="*{lastName}"
                            th:errorclass="is-invalid"
                    />
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Last name is required.</small>
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="username" class="label-color-text font-weight-bold">Username</label>
                    <input
                            id="username"
                            type="text"
                            name="username"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="Nickname"
                            th:field="*{username}"
                            th:errorclass="is-invalid"
                    />
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Username is required.</small>
                    </p>
                </div>
                <div class="col-md-6 mb-3">

                    <label for="department" class="label-color-text font-weight-bold">Department</label>
                    <select
                            id="department"
                            class="form-select input-color enable-disable"
                            th:field="*{department}"
                            th:errorclass="is-invalid"
                    >
                        <option th:value="${null}" selected></option>
                        <option th:each="department : ${T(app.taskmanagementsystem.domain.entity.enums.DepartmentTypeEnum).values()}"
                                th:text="${department.name()}"
                                th:value="${department}"
                        >
                            Department name
                        </option>

                    </select>
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Department is required.</small>
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-9 mb-3">
                    <label for="email" class="label-color-text font-weight-bold">Email</label>
                    <input
                            id="email"
                            type="email"
                            name="email"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="mitrovrosen@gmail.com"
                            th:field="*{email}"
                            th:errorclass="is-invalid"
                    />
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Email is required.</small>
                    </p>
                </div>
                <div class="col-md-3 mb-3">
                    <label for="age" class="label-color-text font-weight-bold">Age</label>
                    <input
                            id="age"
                            type="number"
                            name="age"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="Age"
                            th:field="*{age}"
                            th:errorclass="is-invalid"
                    />
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Age is required.</small>
                    </p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12 mb-3">
                    <label for="password" class="label-color-text font-weight-bold">Password</label>
                    <input
                            id="password"
                            type="password"
                            name="password"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="****************"
                            th:field="*{password}"
                            th:errorclass="is-invalid"
                    />
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Password is required.</small>
                    </p>
                </div>
                <div class="col-md-12 mb-3">
                    <label for="confirmPassword" class="label-color-text font-weight-bold">Confirm password</label>
                    <input
                            id="confirmPassword"
                            type="password"
                            name="confirmPassword"
                            class="form-control-plaintext rounded px-2 input-color"
                            placeholder="****************"
                            th:field="*{confirmPassword}"
                            th:errorclass="is-invalid"
                    />
                    <p th:class="'invalid-feedback mt-1 ps-2 rounded-3 error-color-input'">
                        <small>Password is required.</small>
                    </p>
                </div>
            </div>
            <div class="label-color-text text-center mb-4 mt-2">
                <div class="text-center">
                    <div class="button">
                        <input type="submit" class="btn btn-my-color btn-lg" value="REGISTER"/>
                    </div>
                </div>
            </div>
        </form>
    </div>
</main>

<footer class="footer bg-transparent mt-5">
    <th:block th:insert="~{/fragments/footer}"></th:block>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN" crossorigin="anonymous">
</script>
</body>

</html>